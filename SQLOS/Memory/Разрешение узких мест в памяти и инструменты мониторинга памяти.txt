Скорость доступа к диску составляет порядка миллисекунд (0,001 секунды) для механических приводов или микросекунды (0,000001 секунды) для твердотельного накопителя (SSD), тогда как доступ к памяти составляет порядка наносекунд (0,000000001 секунды).
Эта огромная разница в скорости между доступом к диску и доступом к памяти делает эффект жестких ошибок страницы значительным по сравнению с ошибками со стороны программных страниц.

Жесткая ошибка страницы возникает, когда процессу требуется код или данные,
которые не находятся в рабочем наборе или где-либо еще в физической памяти, и их необходимо извлечь с диска.

Если неисправная страница найдена в другом месте в физической памяти, 
это называется мягкая ошибка (страница остается в резервном списке в физической памяти).

Большое количество ошибок жестких страниц может указывать на необходимость увеличения объема памяти или уменьшения размера кеша на сервере.

Разрешение узких мест в памяти.
    1. Оптимизация рабочей нагрузки приложения.
        Чтобы идентифицировать запросы, интенсивно использующие память, захватите SQL запросы с помощью расширенных событий, 
        а затем группируйте вывод трассировки по Reads колонке.
        
        Можно использовать sys.dm_exec_query_stats, который собирает метрики запросов для активных запросов в кеше.        
    2. Выделение дополнительной памяти SQL Server.
    3. Перемещение таблиц In-Memory назад к стандартному хранилищу.
    4. Увеличение системной памяти.
    5. Сжатие данных.
       Пока сжатая информация сохраняется в памяти, она остается сжатой. 
       Это означает, что при использовании меньше системной памяти можно перемещать больше информации, увеличивая общую пропускную способность памяти. 
       Все это приносит некоторую нагрузку на CPU.
    
DBCC MEMORYSTATUS
    Считывает текущие распределение памяти (моментальный снимок).
    
DMVs
    sys.dm_exec_query_memory_grants
        Возвращает сведения о запросах, которым уже выделена память или которые все еще нуждаются в предоставлении памяти для выполнения.
        В данном представлении не будут отображены запросы, которым не нужна память.
        
    sys.dm_os_memory_brokers
         Брокеры памяти должным образом распределяют выделяемые объемы памяти между различными компонентами SQL Server, основываясь на текущем и прогнозируемом использовании.
         Брокеры памяти не осуществляют выделение памяти. Ими выполняется только отслеживание операций выделения памяти с целью вычисления необходимого распределения.
         
    sys.dm_os_memory_clerks
        Возвращает набор всех клерков памяти, активных в данный момент в экземпляре SQL Server.
        
    sys.dm_db_xtp_table_memory_stats
        Возвращает статистику использования памяти для каждой таблицы In-Memory OLTP.
        
    sys.dm_xtp_system_memory_consumers
        Сообщает о потребителях памяти системного уровня в In-Memory OLTP.
        
Perfomence Counters
    Memory/Process
        Pages/sec
            Отображает количество страниц, которые читаются или записываются на диск (жесткая ошибка страницы).
            
        Если счетчик Pages/sec высок, вы можете разбить его на:
            Pages Input/sec
                Общее количество страниц, считанных с диска, для устранения неполадок жестких ошибок.
                
                Объединение этого счетчика со счетчиком Page Reads/sec может рассказать вам, 
                сколько страниц извлекается для каждого запроса.
            Pages Output/sec
                Этот счетчик измеряет количество страниц, записанных в файл подкачки в секунду.
                
                Контролируйте этот счетчик, чтобы идентифицировать пейджинг как узкое место.
                
                Объединение этого счетчика с счетчиком Page Writes/sec может рассказать вам, 
                сколько страниц записано для каждого запроса.
        Page Faults/sec
            Общее количество обработанных ошибок в секунду (мягкиие и жесткие ошибки).
        Page Reads/sec
            Измеряет количество запросов диспетчеру ввода-вывода для извлечения страниц с диска.
            Несмотря на имя этого счетчика, он измеряет запросы, а не страницы, запрос может быть более одной страницы.
        Page Writes/sec
            Измеряет количество запросов к диспетчеру ввода-вывода для записи страниц в файл подкачки.
            Опять же, каждый запрос может быть более одной страницы.
        Available Memory
        Non-pageable memory pool bytes
        Pageable memory pool bytes
        Committed Bytes
            Контролирует, сколько памяти (в байтах) было выделено процессами.
            Поскольку это число увеличивается выше доступной ОЗУ, также размер файла подкачки (потому что пейджинг увеличился).
    Process
        Working Set, _Total
            Отображает объем фактически используемой виртуальной памяти.
    Paging file
        %pagefile in use
            Сообщает процент файла подкачки, который фактически используется.
            Этот счетчик используется для определения того, является ли файл подкачки Windows потенциальным узким местом. 
            Если этот счетчик остается выше 50% или 75% последовательно, подумайте об увеличении размера файла подкачки или перемещении файла подкачки на другой диск.
        