Общая производительность SQL Server.
    SQLServer:Access Methods
        FreeSpace Scans/sec
            Количество операций сканирования в секунду, выполненных для поиска свободного пространства на страницах, 
            выделенных единице распределения, для вставки или изменения фрагмента записи.
        Full Scans/sec
            Количество неограниченных операций полного сканирования в секунду.
            К таким операциям относятся сканирование основной таблицы и полное сканирование индекса.
            
            Сканирование не обязательно является плохим. Но они представляют собой более широкий доступ к данным, поэтому они могут указывать на проблему. 
            Некоторые из основных причин высокого значения Full Scans/sec следующие:
                - Отсутствующие индексы.
                - Слишком много запрошенных строк.
                - Не достаточно избирательный предикат.
                - Неправильный T-SQL.
                - Распространение или количество данных не поддерживает поиск.
                
            Чтобы дополнительно исследовать запросы, создающие эти проблемы, используйте XE для идентификации запросов.
            Запросы с отсутствующими индексами, слишком много запрошенных строк или плохо сформированный T-SQL будут иметь большое количество логических чтений, 
            вызванных сканированием всей таблицы или всего индекса и увеличенным временем процессора.
            
            
            sys.dm_db_missing_index_details
                Возвращает информацию, которая может предложить кандидатов на индексы на основе планов выполнения запросов, выполняемых с базой данных.
            sys.dm_db_index_usage_stats
                Показывает, какие индексы были использованы, по крайней мере, с момента последнего перезапуска экземпляра SQL Server.
            sys.dm_db_index_operational_stats
                Поможет показать, где индексы замедляются из-за конкуренции или ввода-вывода.
        Table Lock Escalations/sec
            Показывает, сколько раз блокировки таблиц были укрупнены до гранулярности TABLE или HoBT.
        Worktables Created/sec
            Количество созданных рабочих таблиц в секунду. 
            Например рабочие таблицы можно использовать для хранения временных результатов для очереди запросов, переменных LOB и XML и курсоров.
            
    SQLServer:Latches
        Total Latch Wait Time (ms)
            Средняя длительность ожидания кратковременной блокировки запроса (в миллисекундах).
    
    SQLServer:Locks(_Total)
        Lock Timeouts/sec
            Количество запросов блокировок в секунду, время ожидания которых истекло, включая запросы блокировок NOWAIT.
        Lock Wait Time (ms)
            Суммарное время ожидания (в миллисекундах) блокировок за последнюю секунду.
        Number of Deadlocks/sec
            Количество запросов блокировок за секунду, которые завершились взаимоблокировками.
            
    SQLServer:SQL Statistics
        Batch Requests/sec
            Число пакетов команд Transact-SQL, полученных за секунду.                        
        SQL Re-Compilations/sec
            Число повторных компиляций инструкций в секунду.
            
            Повторная компиляция хранимых процедур увеличивает накладные расходы на процессоре.
    
    SQLServer:General Statistics
        Processes Blocked
            Количество заблокированных процессов.
        User Connections
            Подсчитывает количество пользователей, подключенных в настоящее время к SQL Server.                       
        Temp Tables Creation Rate
            Количество временных таблиц и табличных переменных, созданных в секунду.
        Temp Tables for Destruction
            Количество временных таблиц и табличных переменных, ожидающих уничтожения в потоке системы очистки.
            
Анализ влияния блокировок базы данных на производительность SQL Server.
    SQLServer:Latches
        Total Latch Wait Time (ms)
            Высокое значение для этого счетчика может указывать на то, что SQL Server тратит слишком много времени на свой внутренний механизм синхронизации.
    SQLServer:Locks(_Total)
        Lock Timeouts/sec            
        Lock Wait Time (ms)
            Необходимо, что Lock Timeouts/sec была равна 0, а время Lock Wait Time (ms) было очень низким. 
            Значение, отличное от нуля для Lock Timeouts/sec и высокое значение для Lock Wait Time (ms) указывают на то, что в базе данных происходит чрезмерная блокировка.        
        Number of Deadlocks/sec
            Значение этого счетчика должно быть 0. Если вы видите ненулевое значение, вы должны идентифицировать взаимоблокировку.
    
    Блокировки являются необходимой частью системы. 
    Необходимо установить базовую линию, чтобы тщательно отслеживать, вызывает ли данное значение беспокойство.
            
Счетчики монитора производительности для анализа объема входящих запросов.
    SQLServer:General Statistics
        User Connections            
    SQLServer:SQL Statistics
        Batch Requests/sec            
            Этот счетчик является хорошим индикатором нагрузки на SQL Server.
            Основываясь на уровне использования системных ресурсов и Batch Requests/sec, вы можете оценить количество пользователей, которые SQL Server может принять без развития узких мест в ресурсах.
            Это значение счетчика в разных циклах загрузки помогает понять его взаимосвязь с количеством подключений к базе данных.
